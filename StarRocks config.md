# StarRocks 配置参数说明

## 代码相关配置

- `#pragma once`: 预处理指令，防止头文件被多次包含。
- `#include "configbase.h"`: 包含基础配置类的头文件。

## 配置名称及默认值

- `cluster_id`: 集群ID，默认为"-1"。
- `be_port`: Backend服务端口，默认为"9060"。
- `thrift_port`: Thrift服务端口，默认为"0"。
- `brpc_port`: BRPC服务端口，默认为"8060"。
- `brpc_num_threads`: BRPC线程数，默认为CPU核心数。
- `brpc_max_connections_per_server`: BRPC客户端与每个服务器维护的最大单个连接数，默认为"1"。
- `priority_networks`: 服务器有多个IP时的选择策略，默认为空字符串。
- `net_use_ipv6_when_priority_networks_empty`: 当`priority_networks`为空时是否使用IPv6，默认为"false"。
- `enable_auto_adjust_pagecache`: 是否自动调整页缓存大小，默认为"true"。
- `memory_urgent_level`: 内存紧急水位线，默认为"85"。
- `memory_high_level`: 内存高水位线，默认为"75"。
- `pagecache_adjust_period`: 页缓存大小调整周期，默认为"20"。
- `auto_adjust_pagecache_interval_seconds`: 页缓存调整迭代间隔时间，默认为"10"。
- `mem_limit`: 进程内存限制，默认为"90%"。
- `enable_jemalloc_memory_tracker`: 是否启用jemalloc内存跟踪，默认为"true"。
- `jemalloc_fragmentation_ratio`: 认为jemalloc内存的一部分为碎片的比例，默认为"0.3"。
- `heartbeat_service_port`: 心跳服务端口，默认为"9050"。
- `heartbeat_service_thread_count`: 心跳服务线程数，默认为"1"。
- `create_tablet_worker_count`: 创建表线程数，默认为"3"。
- `drop_tablet_worker_count`: 删除表线程数，默认为"3"。
- `push_worker_count_normal_priority`: 普通优先级批量加载线程数，默认为"3"。
- `push_worker_count_high_priority`: 高优先级批量加载线程数，默认为"3"。
- `transaction_publish_version_worker_count`: 发布版本事务线程数，默认为"0"。
- `transaction_publish_version_thread_pool_num_min`: 发布版本事务最小线程池数，默认为"0"。
- `transaction_apply_worker_count`: 应用行集到主键表的线程数，默认为CPU核心数。
- `get_pindex_worker_count`: 获取主键索引工作线程数，默认为"0"。
- `transaction_apply_thread_pool_num_min`: 应用事务最小线程池数，默认为"0"。
- `transaction_apply_worker_idle_time_ms`: 事务应用工作线程空闲时间，默认为"500"。
- `clear_transaction_task_worker_count`: 清除事务任务线程数，默认为"1"。
- `delete_worker_count_normal_priority`: 普通优先级删除线程数，默认为"2"。
- `delete_worker_count_high_priority`: 高优先级删除线程数，默认为"1"。
- `alter_tablet_worker_count`: 更改表线程数，默认为"3"。
- `parallel_clone_task_per_path`: 每个存储路径的并行克隆任务数，默认为"8"。
- `clone_worker_count`: 克隆线程数，默认为"3"。
- `storage_medium_migrate_count`: 存储介质迁移线程数，默认为"3"。
- `check_consistency_worker_count`: 检查一致性线程数，默认为"1"。
- `update_schema_worker_count`: 更新模式线程数，默认为"3"。
- `upload_worker_count`: 上传线程数，默认为"1"。
- `download_worker_count`: 下载线程数，默认为"1"。
- `make_snapshot_worker_count`: 制作快照线程数，默认为"5"。
- `release_snapshot_worker_count`: 释放快照线程数，默认为"5"。
- `report_task_interval_seconds`: 报告任务签名到FE的间隔时间，默认为"10"。
- `report_disk_state_interval_seconds`: 报告磁盘状态到FE的间隔时间，默认为"60"。
- `report_tablet_interval_seconds`: 报告OLAP表到FE的间隔时间，默认为"60"。
- `report_workgroup_interval_seconds`: 报告工作组到FE的间隔时间，默认为"5"。
- `report_resource_usage_interval_ms`: 报告资源使用情况到FE的间隔时间，默认为"1000"。
- `max_download_speed_kbps`: 最大下载速度，默认为"50000"。
- `download_low_speed_limit_kbps`: 下载低速限制，默认为"50"。
- `download_low_speed_time`: 下载低速时间，默认为"300"。
- `sleep_one_second`: 一秒钟睡眠时间，默认为"1"。
- `sleep_five_seconds`: 五秒钟睡眠时间，默认为"5"。
- `compact_threads`: 压缩线程数，默认为"4"。
- `compact_thread_pool_queue_size`: 压缩线程池队列大小，默认为"100"。
- `replication_threads`: 复制线程数，默认为"0"。
- `replication_max_speed_limit_kbps`: 复制最大速度限制，默认为"50000"。
- `replication_min_speed_limit_kbps`: 复制最小速度限制，默认为"50"。
- `replication_min_speed_time_seconds`: 复制最小速度时间，默认为"300"。
- `clear_expired_replication_snapshots_interval_seconds`: 清除过期复制快照间隔时间，默认为"3600"。
- `sys_log_dir`: 系统日志目录，默认为"${STARROCKS_HOME}/log"。
- `user_function_dir`: 用户函数目录，默认为"${STARROCKS_HOME}/lib/udf"。
- `sys_log_level`: 系统日志级别，默认为"INFO"。
- `sys_log_roll_mode`: 系统日志滚动模式，默认为"SIZE-MB-1024"。
- `sys_log_roll_num`: 日志滚动数，默认为"10"。
- `sys_log_verbose_modules`: 详细日志模块，默认为空字符串。
- `sys_log_verbose_level`: 详细日志级别，默认为"10"。
- `log_buffer_level`: 日志缓冲级别，默认为空字符串。
- `pull_load_task_dir`: 拉取加载任务目录，默认为"${STARROCKS_HOME}/var/pull_load"。
- `web_log_bytes`: Web服务器日志页面的最大字节数，默认为"1048576"。
- `be_service_threads`: 用于服务后端执行请求的线程数，默认为"64"。
- `default_query_options`: StarRocks的默认查询选项，默认为空字符串。
- `num_threads_per_core`: 每个核心的工作线程数，默认为"3"。
- `compress_rowbatches`: 是否压缩行批次数据，默认为"true"。
- `rpc_compress_ratio_threshold`: 网络中行批次压缩比率阈值，默认为"1.1"。
- `serialize_batch`: 是否序列化每个返回的行批次，默认为"false"。
- `status_report_interval`: 状态报告间隔时间，默认为"5"。
- `local_library_dir`: 从HDFS复制UDF库到本地的目录，默认为"${UDF_RUNTIME_DIR}"。
- `scanner_thread_pool_thread_num`: OLAP/外部扫描器线程池大小，默认为"48"。
- `scanner_thread_pool_queue_size`: OLAP/外部扫描器线程池队列大小，默认为"102400"。
- `udf_thread_pool_size`: UDF线程池大小，默认为"1"。
- `port`: 用于运行StarRocks测试后端的端口，默认为"20001"。
- `thrift_connect_timeout_seconds`: Thrift客户端连接超时时间，默认为"3"。
- `broker_load_default_timeout_second`: Broker加载的默认超时时间，默认为"14400"。
- `broker_load_min_chunk_size`: Broker加载的最小数据块大小，默认为"100"。
- `broker_load_max_memory_limit`: Broker加载的最大内存限制，默认为"2147483648"（即2GB）。
- `load_pending_thread_num_high_priority`: 高优先级加载等待线程数，默认为"3"。
- `load_pending_thread_num_normal_priority`: 普通优先级加载等待线程数，默认为"10"。
- `load_running_thread_num_high_priority`: 高优先级加载运行线程数，默认为"10"。
- `load_running_thread_num_normal_priority`: 普通优先级加载运行线程数，默认为"25"。
- `max_unfinished_load_job`: 最大未完成加载作业数，默认为"100"。
- `stream_load_default_timeout_second`: Stream加载的默认超时时间，默认为"300"。
- `max_stream_load_timeout_second`: Stream加载的最大超时时间，默认为"259200"（即3天）。
- `stream_load_rpc_max_alive_time_sec`: Stream加载RPC的最大存活时间，默认为"600"。
- `max_routine_load_job_num`: 最大例行加载作业数，默认为"100"。
- `routine_load_task_timeout_second`: 例行加载任务的超时时间，默认为"10"。
- `routine_load_task_consume_second`: 例行加载任务的消耗时间，默认为"3"。
- `routine_load_scheduler_interval_second`: 例行加载调度器的间隔时间，默认为"5"。
- `max_routine_load_task_num_per_be`: 每个BE的最大例行加载任务数，默认为"5"。
- `max_small_file_size_bytes`: 最大小文件大小，默认为"1048576"（即1MB）。
- `max_small_file_number`: 最大小文件数量，默认为"100"。
- `max_routine_load_batch_size`: 最大例行加载批次大小，默认为"209715200"（即200MB）。
- `routine_load_thread_pool_size`: 例行加载线程池大小，默认为"10"。
- `routine_load_task_concurrent_num`: 例行加载任务并发数，默认为"3"。
- `max_routine_load_task_exec_interval_ms`: 最大例行加载任务执行间隔时间，默认为"10000"（即10秒）。
- `min_routine_load_task_exec_interval_ms`: 最小例行加载任务执行间隔时间，默认为"1000"（即1秒）。
- `routine_load_task_retry_delay_ms`: 例行加载任务重试延迟时间，默认为"10000"（即10秒）。
- `max_routine_load_task_retry_num`: 最大例行加载任务重试次数，默认为"3"。
- `routine_load_kafka_default_max_batch_interval_ms`: 例行加载Kafka默认最大批次间隔时间，默认为"100"。
- `routine_load_kafka_default_max_batch_rows`: 例行加载Kafka默认最大批次行数，默认为"10000"。
- `routine_load_kafka_default_max_batch_size`: 例行加载Kafka默认最大批次大小，默认为"1048576"（即1MB）。
- `routine_load_kafka_default_max_error_number`: 例行加载Kafka默认最大错误数，默认为"10000"。
- `routine_load_kafka_default_poll_timeout_ms`: 例行加载Kafka默认轮询超时时间，默认为"100"。
- `routine_load_kafka_max_partitions`: 例行加载Kafka最大分区数，默认为"100"。
- `max_routine_load_kafka_single_message_bytes`: 最大例行加载Kafka单条消息字节数，默认为"1048576"（即1MB）。
- `max_routine_load_kafka_total_message_bytes`: 最大例行加载Kafka总消息字节数，默认为"104857600"（即100MB）。
- `max_routine_load_kafka_error_rate`: 最大例行加载Kafka错误率，默认为"0.1"。
- `routine_load_kafka_progress_sync_interval_ms`: 例行加载Kafka进度同步间隔时间，默认为"10000"（即10秒）。
- `max_routine_load_kafka_consume_speed`: 最大例行加载Kafka消费速度，默认为"1000000"（即1MB/s）。
- `routine_load_kafka_default_max_offset_lag`: 例行加载Kafka默认最大偏移滞后，默认为"100000"。
- `max_routine_load_kafka_partition_offset_lag`: 最大例行加载Kafka分区偏移滞后，默认为"100000000"。

以上是StarRocks的部分配置参数及其默认值的说明。这些配置涉及到集群管理、服务端口、线程数、内存管理、日志设置、任务调度、下载速度限制、压缩设置等多个方面。了解这些配置参数有助于更好地管理和优化StarRocks集群的性能。

